# messages.py
# В этом файле хранятся шаблоны текстовых сообщений для условий и списка ссылок,
# чтобы код в хендлерах был чище и короче.

def get_join_conditions_text() -> str:
    """
    Возвращает текст, который отправляется пользователю при нажатии "Вступить".
    """
    return (
        "Нажимая кнопку, вы подтверждаете, что:\n\n"
        "– вы не бот  \n"
        "– ознакомлены с Офертой  \n"
        "– согласны на обработку персональных данных  \n"
        "– вам исполнилось 18 лет  \n\n"
        "Чат — не медицинское сообщество и не оказывает квалифицированную помощь напрямую.  \n"
        "Общение в чате не заменяет лечение, это лишь поддержка. Если вам тяжело, обратитесь  \n"
        "к специалистам (они у нас есть). Вы сами отвечаете за последствия применения информации  \n"
        "из чата. Фильтруйте её и используйте с умом. Мнения участников не формируют единую позицию.  \n"
        "То, что помогло кому-то, вам может не помочь."
    )

def get_invite_links_text(links) -> str:
    """
    Формирует текст со всеми ссылками на проекты и приватные чаты.
    Параметр links - список кортежей: (title, invite_link, description).
    """
    # Фиксированные части списка (ссылки, не требующие генерации)
    fixed = (
        "**Здесь находятся все ссылки на проекты сообщества «Лудочат»**\n"
        "\n"
        "[Лудочат · помощь игрокам](https://t.me/+as3JmHK21sxhMGEy) — чат взаимовыручки для людей с азартно-игровым расстройством.\n"
        "[Серый Лудочат](https://t.me/GrayLudoChat) — “серые” темы: продажа аккаунтов, разблокировка, защитные схемы.\n"
        "\n"
        "**Приватные чаты:**\n"
    )

    lines = [fixed]
    # Добавляем динамически сгенерированные ссылки
    for title, link, desc in links:
        lines.append(f"[{title}]({link}) — {desc}\n")
    # Тестовая ссылка (первая из списка)
    test_link = links[0][1] if links else ""
    lines.append(f"[Тест]({test_link}) — тестовая индивидуальная ссылка\n")
    # Далее идут каналы и боты
    tail = (
        "\n"
        "**Наши каналы:**\n"
        "[Антигембл](https://t.me/antigambl) — канал основателя с регулярными обновлениями и советами.\n"
        "[Блог «Лудочат»](https://t.me/LudoBlog) — блог сообщества с личными историями и лайфстайл-контентом.\n"
        "\n"
        "**Наши боты:**\n"
        "[Выручка](https://t.me/viruchkaa_bot?start=0012) — сервисы для заработка и продажи, помощь игрокам в поиске решений.\n"
        "[Алгоритм](https://t.me/algorithmga_bot?start=0011) — бот с алгоритмом самопомощи при азартно-игровом расстройстве."
    )
    lines.append(tail)
    return "".join(lines)
